<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ThalCare - Blood Donation Management Platform</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation Header -->
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-heart-pulse"></i>
                    <span>ThalCare</span>
                </div>
                <nav class="main-nav">
                    <a href="#dashboard" class="nav-link active" data-section="dashboard">
                        <i class="fas fa-tachometer-alt"></i> Dashboard
                    </a>
                    <a href="#donors" class="nav-link" data-section="donors">
                        <i class="fas fa-users"></i> Find Donors
                    </a>
                    <a href="#bridges" class="nav-link" data-section="bridges">
                        <i class="fas fa-link"></i> Blood Bridges
                    </a>
                    <a href="#request" class="nav-link" data-section="request">
                        <i class="fas fa-plus-circle"></i> Request Blood
                    </a>
                    <a href="#inventory" class="nav-link" data-section="inventory">
                        <i class="fas fa-warehouse"></i> Inventory
                    </a>
                    <a href="#analytics" class="nav-link" data-section="analytics">
                        <i class="fas fa-chart-line"></i> Analytics
                    </a>
                    <a href="#emergency" class="nav-link" data-section="emergency">
                        <i class="fas fa-exclamation-triangle"></i> Emergency
                    </a>
                </nav>
                <div class="user-actions">
                    <button class="btn btn--primary" onclick="showModal('registerModal')">
                        <i class="fas fa-user-plus"></i> Register
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Section -->
        <section id="dashboard-section" class="content-section active">
            <div class="hero-section">
                <div class="container">
                    <div class="hero-content">
                        <h1>Connecting Lives Through Blood</h1>
                        <p>AI-powered platform supporting Thalassemia patients with intelligent donor matching and real-time blood management</p>
                        <div class="hero-stats">
                            <div class="stat-item">
                                <div class="stat-number" data-count="2847">0</div>
                                <div class="stat-label">Active Donors</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" data-count="89">0</div>
                                <div class="stat-label">Blood Bridges</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" data-count="3421">0</div>
                                <div class="stat-label">Lives Saved</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" data-count="15678">0</div>
                                <div class="stat-label">Units Collected</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container">
                <!-- Emergency Requests -->
                <div class="dashboard-grid">
                    <div class="card emergency-card">
                        <div class="card__header">
                            <h3><i class="fas fa-exclamation-circle"></i> Urgent Blood Requests</h3>
                            <span class="status status--error">3 Critical</span>
                        </div>
                        <div class="card__body">
                            <div id="emergency-requests"></div>
                        </div>
                    </div>

                    <!-- AI Predictions -->
                    <div class="card ai-predictions">
                        <div class="card__header">
                            <h3><i class="fas fa-robot"></i> AI Predictions</h3>
                            <span class="status status--success">Live</span>
                        </div>
                        <div class="card__body">
                            <div class="prediction-item">
                                <span>Donor Availability Today:</span>
                                <div class="prediction-bar">
                                    <div class="prediction-fill" style="width: 85%"></div>
                                    <span>85%</span>
                                </div>
                            </div>
                            <div class="prediction-item">
                                <span>Critical Blood Types:</span>
                                <div class="blood-types">
                                    <span class="blood-type critical">B-</span>
                                    <span class="blood-type critical">AB-</span>
                                    <span class="blood-type warning">O-</span>
                                </div>
                            </div>
                            <div class="prediction-item">
                                <span>Optimal Donation Time:</span>
                                <span class="optimal-time">2:00 PM - 4:00 PM</span>
                            </div>
                        </div>
                    </div>

                    <!-- Blood Inventory -->
                    <div class="card inventory-summary">
                        <div class="card__header">
                            <h3><i class="fas fa-vials"></i> Blood Inventory</h3>
                            <button class="btn btn--sm btn--outline" onclick="showSection('inventory')">View All</button>
                        </div>
                        <div class="card__body">
                            <div class="inventory-grid" id="inventory-summary"></div>
                        </div>
                    </div>

                    <!-- Success Stories -->
                    <div class="card testimonials">
                        <div class="card__header">
                            <h3><i class="fas fa-heart"></i> Success Stories</h3>
                        </div>
                        <div class="card__body">
                            <div class="testimonial-carousel" id="testimonial-carousel"></div>
                        </div>
                    </div>
                </div>

                <!-- Blood Bridge Network Map -->
                <div class="card bridge-network">
                    <div class="card__header">
                        <h3><i class="fas fa-network-wired"></i> Blood Bridge Network</h3>
                        <span class="status status--success">89 Active</span>
                    </div>
                    <div class="card__body">
                        <div class="bridge-map" id="bridge-network-map"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Donors Section -->
        <section id="donors-section" class="content-section">
            <div class="container">
                <div class="section-header">
                    <h2>AI-Powered Donor Matching</h2>
                    <p>Smart matching system connecting donors with patients based on compatibility, location, and availability</p>
                </div>
                
                <div class="donors-grid">
                    <div class="card donor-search">
                        <div class="card__header">
                            <h3><i class="fas fa-search"></i> Find Donors</h3>
                        </div>
                        <div class="card__body">
                            <div class="search-form">
                                <div class="form-group">
                                    <label class="form-label">Blood Type Needed</label>
                                    <select class="form-control" id="blood-type-search">
                                        <option value="">Select Blood Type</option>
                                        <option value="A+">A+</option>
                                        <option value="A-">A-</option>
                                        <option value="B+">B+</option>
                                        <option value="B-">B-</option>
                                        <option value="AB+">AB+</option>
                                        <option value="AB-">AB-</option>
                                        <option value="O+">O+</option>
                                        <option value="O-">O-</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Location</label>
                                    <input type="text" class="form-control" id="location-search" placeholder="Enter city or area">
                                </div>
                                <button class="btn btn--primary btn--full-width" onclick="searchDonors()">
                                    <i class="fas fa-robot"></i> AI Match Donors
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="card donor-results">
                        <div class="card__header">
                            <h3><i class="fas fa-users"></i> Available Donors</h3>
                            <span id="donor-count" class="status status--info">Loading...</span>
                        </div>
                        <div class="card__body">
                            <div id="donor-list" class="donor-list"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Blood Bridges Section -->
        <section id="bridges-section" class="content-section">
            <div class="container">
                <div class="section-header">
                    <h2>Blood Bridge Network</h2>
                    <p>Connecting Thalassemia patients with dedicated donor networks for consistent blood supply</p>
                </div>
                
                <div class="bridges-grid" id="bridges-grid"></div>
            </div>
        </section>

        <!-- Request Blood Section -->
        <section id="request-section" class="content-section">
            <div class="container">
                <div class="section-header">
                    <h2>Request Blood</h2>
                    <p>Emergency blood request system with AI-powered donor matching</p>
                </div>
                
                <div class="request-form-container">
                    <div class="card">
                        <div class="card__header">
                            <h3><i class="fas fa-plus-circle"></i> New Blood Request</h3>
                        </div>
                        <div class="card__body">
                            <form id="blood-request-form" class="request-form">
                                <div class="form-group">
                                    <label class="form-label">Patient Name</label>
                                    <input type="text" class="form-control" required placeholder="Enter patient name">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Blood Type Required</label>
                                    <select class="form-control" required>
                                        <option value="">Select Blood Type</option>
                                        <option value="A+">A+</option>
                                        <option value="A-">A-</option>
                                        <option value="B+">B+</option>
                                        <option value="B-">B-</option>
                                        <option value="AB+">AB+</option>
                                        <option value="AB-">AB-</option>
                                        <option value="O+">O+</option>
                                        <option value="O-">O-</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Units Needed</label>
                                    <input type="number" class="form-control" min="1" max="10" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Urgency Level</label>
                                    <select class="form-control" required>
                                        <option value="Critical">Critical (Within 2 hours)</option>
                                        <option value="High">High (Within 6 hours)</option>
                                        <option value="Moderate">Moderate (Within 24 hours)</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Hospital</label>
                                    <input type="text" class="form-control" required placeholder="Hospital name">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Contact Number</label>
                                    <input type="tel" class="form-control" required placeholder="+91-XXXXXXXXXX">
                                </div>
                                <button type="submit" class="btn btn--primary btn--full-width">
                                    <i class="fas fa-paper-plane"></i> Submit Request
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Inventory Section -->
        <section id="inventory-section" class="content-section">
            <div class="container">
                <div class="section-header">
                    <h2>Blood Inventory Management</h2>
                    <p>Real-time blood stock levels with AI-powered demand predictions</p>
                </div>
                
                <div class="inventory-dashboard">
                    <div class="card inventory-chart">
                        <div class="card__header">
                            <h3><i class="fas fa-chart-bar"></i> Blood Stock Levels</h3>
                        </div>
                        <div class="card__body">
                            <div class="chart-container" style="position: relative; height: 400px;">
                                <canvas id="inventory-chart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card inventory-details">
                        <div class="card__header">
                            <h3><i class="fas fa-list-alt"></i> Detailed Inventory</h3>
                        </div>
                        <div class="card__body">
                            <div id="detailed-inventory" class="inventory-table"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Section -->
        <section id="analytics-section" class="content-section">
            <div class="container">
                <div class="section-header">
                    <h2>AI Analytics Dashboard</h2>
                    <p>Machine learning insights for optimizing blood donation and patient care</p>
                </div>
                
                <div class="analytics-grid">
                    <div class="card analytics-trends">
                        <div class="card__header">
                            <h3><i class="fas fa-trending-up"></i> Donation Trends</h3>
                        </div>
                        <div class="card__body">
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="trends-chart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card analytics-predictions">
                        <div class="card__header">
                            <h3><i class="fas fa-brain"></i> ML Predictions</h3>
                        </div>
                        <div class="card__body">
                            <div class="chart-container" style="position: relative; height: 300px;">
                                <canvas id="predictions-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Emergency Section -->
        <section id="emergency-section" class="content-section">
            <div class="container">
                <div class="section-header">
                    <h2>Emergency Response Center</h2>
                    <p>Critical blood shortage alerts and rapid donor mobilization</p>
                </div>
                
                <div class="emergency-dashboard">
                    <div class="card emergency-alerts">
                        <div class="card__header">
                            <h3><i class="fas fa-siren"></i> Active Emergencies</h3>
                            <span class="status status--error">3 Critical</span>
                        </div>
                        <div class="card__body">
                            <div id="emergency-list" class="emergency-list"></div>
                        </div>
                    </div>
                    
                    <div class="card emergency-response">
                        <div class="card__header">
                            <h3><i class="fas fa-ambulance"></i> Response Actions</h3>
                        </div>
                        <div class="card__body">
                            <button class="btn btn--primary btn--full-width emergency-btn" onclick="activateEmergencyResponse()">
                                <i class="fas fa-broadcast-tower"></i> Activate Emergency Broadcast
                            </button>
                            <button class="btn btn--secondary btn--full-width emergency-btn" onclick="mobilizeDonors()">
                                <i class="fas fa-users"></i> Mobilize Nearby Donors
                            </button>
                            <button class="btn btn--outline btn--full-width emergency-btn" onclick="contactHospitals()">
                                <i class="fas fa-hospital"></i> Contact Partner Hospitals
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Registration Modal -->
    <div id="registerModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Register with ThalCare</h3>
                <button class="modal-close" onclick="hideModal('registerModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="registration-tabs">
                    <button class="tab-btn active" onclick="switchTab('donor')">Donor Registration</button>
                    <button class="tab-btn" onclick="switchTab('patient')">Patient Registration</button>
                </div>
                
                <form id="donor-form" class="registration-form active">
                    <div class="form-group">
                        <label class="form-label">Full Name</label>
                        <input type="text" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Blood Type</label>
                        <select class="form-control" required>
                            <option value="">Select Blood Type</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Age</label>
                        <input type="number" class="form-control" min="18" max="65" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Location</label>
                        <input type="text" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Phone Number</label>
                        <input type="tel" class="form-control" required>
                    </div>
                    <button type="submit" class="btn btn--primary btn--full-width">Register as Donor</button>
                </form>
                
                <form id="patient-form" class="registration-form">
                    <div class="form-group">
                        <label class="form-label">Patient Name</label>
                        <input type="text" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Age</label>
                        <input type="number" class="form-control" min="1" max="100" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Blood Type</label>
                        <select class="form-control" required>
                            <option value="">Select Blood Type</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Thalassemia Type</label>
                        <select class="form-control" required>
                            <option value="">Select Type</option>
                            <option value="Major">Thalassemia Major</option>
                            <option value="Intermedia">Thalassemia Intermedia</option>
                            <option value="Minor">Thalassemia Minor</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Transfusion Frequency</label>
                        <select class="form-control" required>
                            <option value="">Select Frequency</option>
                            <option value="Every 14 days">Every 14 days</option>
                            <option value="Every 21 days">Every 21 days</option>
                            <option value="Every 28 days">Every 28 days</option>
                            <option value="Monthly">Monthly</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn--primary btn--full-width">Register as Patient</button>
                </form>
            </div>
        </div>
    </div>

    <!-- AI Chatbot -->
    <div id="ai-chatbot" class="chatbot">
        <div class="chatbot-toggle" onclick="toggleChatbot()">
            <i class="fas fa-robot"></i>
            <span class="chatbot-badge">ThalCare AI</span>
        </div>
        <div class="chatbot-window hidden">
            <div class="chatbot-header">
                <div class="chatbot-title">
                    <i class="fas fa-robot"></i>
                    <span>ThalCare Assistant</span>
                </div>
                <button class="chatbot-close" onclick="toggleChatbot()">&times;</button>
            </div>
            <div class="chatbot-messages" id="chatbot-messages">
                <div class="message bot-message">
                    <div class="message-content">
                        Hello! I'm ThalCare Assistant. I can help you with:
                        <ul>
                            <li>Finding blood donors</li>
                            <li>Scheduling appointments</li>
                            <li>Emergency blood requests</li>
                            <li>Thalassemia information</li>
                            <li>Platform navigation</li>
                        </ul>
                        How can I assist you today?
                    </div>
                </div>
            </div>
            <div class="chatbot-input">
                <input type="text" placeholder="Type your message..." id="chatbot-input" onkeypress="handleChatInput(event)">
                <button onclick="sendChatMessage()"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>